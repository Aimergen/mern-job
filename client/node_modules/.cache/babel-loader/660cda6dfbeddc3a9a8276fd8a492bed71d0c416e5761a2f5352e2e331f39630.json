{"ast":null,"code":"var _jsxFileName = \"/Users/adku/Desktop/work/client/src/context/AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n/* eslint-disable react-hooks/rules-of-hooks */\n\nimport React, { useContext, createContext, useReducer } from \"react\";\nimport authReducer, { initialState } from \"../reducers/AuthReduce\";\nimport { AUTH_CONTEXT } from \"../constants\";\nimport { auth as authService } from \"../apis\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext(initialState);\nconst context = () => {\n  _s();\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"undefined auth context\");\n  }\n  return context;\n};\n_s(context, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport default context;\nexport const AuthProvider = ({\n  children\n}) => {\n  _s2();\n  const [state, dispatch] = useReducer(authReducer, initialState);\n  const setLogin = payload => {\n    dispatch({\n      type: AUTH_CONTEXT.LOGIN.code,\n      payload: payload\n    });\n  };\n  const setLogout = payload => {\n    dispatch({\n      type: AUTH_CONTEXT.LOGOUT.code,\n      payload: {}\n    });\n  };\n  const setMe = payload => {\n    dispatch({\n      type: AUTH_CONTEXT.ME.code,\n      payload: payload\n    });\n  };\n  const getMe = async () => {\n    if (state.me === null) {\n      let user = await authService.me({});\n      setMe(user);\n      return user;\n    } else {\n      return state.me;\n    }\n  };\n  const values = {\n    ...state,\n    setLogout,\n    setMe,\n    setLogin,\n    getMe\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: values,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 12\n  }, this);\n};\n_s2(AuthProvider, \"h4meAN672mISt93ielJXXMKemns=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","useContext","createContext","useReducer","authReducer","initialState","AUTH_CONTEXT","auth","authService","jsxDEV","_jsxDEV","AuthContext","context","_s","undefined","Error","AuthProvider","children","_s2","state","dispatch","setLogin","payload","type","LOGIN","code","setLogout","LOGOUT","setMe","ME","getMe","me","user","values","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/adku/Desktop/work/client/src/context/AuthContext.js"],"sourcesContent":["/* eslint-disable react-hooks/rules-of-hooks */\n\nimport React, { useContext, createContext, useReducer } from \"react\";\nimport authReducer, { initialState } from \"../reducers/AuthReduce\";\nimport { AUTH_CONTEXT } from \"../constants\";\nimport { auth as authService } from \"../apis\";\n\nconst AuthContext = createContext(initialState);\n\nconst context =  () => {\n    const context = useContext(AuthContext);\n\n    if (context === undefined) {\n      throw new Error(\"undefined auth context\");\n    }\n    \n    return context;\n}\n\nexport default context;\n\nexport const AuthProvider = ({ children }) => {\n    const [ state, dispatch ] = useReducer(authReducer, initialState);\n\n    const setLogin = (payload) => {\n        dispatch({\n            type: AUTH_CONTEXT.LOGIN.code,\n            payload: payload\n        });\n    }\n\n    const setLogout = (payload) => {\n        dispatch({\n            type: AUTH_CONTEXT.LOGOUT.code,\n            payload: {}\n        });\n    }\n\n    const setMe = (payload) => {\n        dispatch({\n            type: AUTH_CONTEXT.ME.code,\n            payload: payload\n        });\n    }\n\n    const getMe = async () => {\n        if(state.me === null) {\n            let user = await authService.me({});\n\n            setMe(user);\n            return user;\n        } else {\n            return state.me;\n        }\n    }\n\n\n    const values = {\n        ...state,\n        setLogout,\n        setMe,\n        setLogin,\n        getMe,\n    }\n\n    return <AuthContext.Provider value={values}>{children}</AuthContext.Provider>\n}\n\n\n"],"mappings":";;;AAAA;;AAEA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,aAAa,EAAEC,UAAU,QAAQ,OAAO;AACpE,OAAOC,WAAW,IAAIC,YAAY,QAAQ,wBAAwB;AAClE,SAASC,YAAY,QAAQ,cAAc;AAC3C,SAASC,IAAI,IAAIC,WAAW,QAAQ,SAAS;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,MAAMC,WAAW,gBAAGT,aAAa,CAACG,YAAY,CAAC;AAE/C,MAAMO,OAAO,GAAIA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAMD,OAAO,GAAGX,UAAU,CAACU,WAAW,CAAC;EAEvC,IAAIC,OAAO,KAAKE,SAAS,EAAE;IACzB,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;EAC3C;EAEA,OAAOH,OAAO;AAClB,CAAC;AAAAC,EAAA,CARKD,OAAO;AAUb,eAAeA,OAAO;AAEtB,OAAO,MAAMI,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EAC1C,MAAM,CAAEC,KAAK,EAAEC,QAAQ,CAAE,GAAGjB,UAAU,CAACC,WAAW,EAAEC,YAAY,CAAC;EAEjE,MAAMgB,QAAQ,GAAIC,OAAO,IAAK;IAC1BF,QAAQ,CAAC;MACLG,IAAI,EAAEjB,YAAY,CAACkB,KAAK,CAACC,IAAI;MAC7BH,OAAO,EAAEA;IACb,CAAC,CAAC;EACN,CAAC;EAED,MAAMI,SAAS,GAAIJ,OAAO,IAAK;IAC3BF,QAAQ,CAAC;MACLG,IAAI,EAAEjB,YAAY,CAACqB,MAAM,CAACF,IAAI;MAC9BH,OAAO,EAAE,CAAC;IACd,CAAC,CAAC;EACN,CAAC;EAED,MAAMM,KAAK,GAAIN,OAAO,IAAK;IACvBF,QAAQ,CAAC;MACLG,IAAI,EAAEjB,YAAY,CAACuB,EAAE,CAACJ,IAAI;MAC1BH,OAAO,EAAEA;IACb,CAAC,CAAC;EACN,CAAC;EAED,MAAMQ,KAAK,GAAG,MAAAA,CAAA,KAAY;IACtB,IAAGX,KAAK,CAACY,EAAE,KAAK,IAAI,EAAE;MAClB,IAAIC,IAAI,GAAG,MAAMxB,WAAW,CAACuB,EAAE,CAAC,CAAC,CAAC,CAAC;MAEnCH,KAAK,CAACI,IAAI,CAAC;MACX,OAAOA,IAAI;IACf,CAAC,MAAM;MACH,OAAOb,KAAK,CAACY,EAAE;IACnB;EACJ,CAAC;EAGD,MAAME,MAAM,GAAG;IACX,GAAGd,KAAK;IACRO,SAAS;IACTE,KAAK;IACLP,QAAQ;IACRS;EACJ,CAAC;EAED,oBAAOpB,OAAA,CAACC,WAAW,CAACuB,QAAQ;IAACC,KAAK,EAAEF,MAAO;IAAAhB,QAAA,EAAEA;EAAQ;IAAAmB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAuB,CAAC;AACjF,CAAC;AAAArB,GAAA,CA7CYF,YAAY;AAAAwB,EAAA,GAAZxB,YAAY;AAAA,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}